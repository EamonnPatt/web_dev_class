<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width">
    <title>Image gallery</title>

    <link rel="stylesheet" href="style.css">

  </head>

  <body>
    <h1>Image gallery example</h1>

    <div class="full-img">
      <img class="displayed-img" src="assets/assets/pic1.jpg" alt="Closeup of a human eye">
      <div class="overlay"></div>
      <button class="dark">Darken</button>
    </div>

    <div class="thumb-bar">


    </div>
    <script>
      const displayedImage = document.querySelector('.displayed-img');
      const thumbBar = document.querySelector('.thumb-bar');
      const btn = document.querySelector('button');
      const overlay = document.querySelector('.overlay');

      const images = ['pic1.jpg', 'pic2.jpg', 'pic3.jpg', 'pic4.jpg', 'pic5.jpg']; // Removed 'assets/assets/' from the filenames
      const alts = {
        'pic1.jpg' : 'Closeup of a human eye',
        'pic2.jpg' : 'mountain',
        'pic3.jpg' : 'lion',
        'pic4.jpg' : 'ocean',
        'pic5.jpg' : 'train'
      }

      let currentIndex = 0;

      function updateDisplayedImage(index) {
        displayedImage.src = `assets/assets/${images[index]}`;
        displayedImage.alt = alts[images[index]];
      }

      function handleKeyboardEvent(event) {
        switch(event.key) {
          case 'ArrowLeft':
            currentIndex = (currentIndex - 1 + images.length) % images.length;
            updateDisplayedImage(currentIndex);
            break;
          case 'ArrowRight':
            currentIndex = (currentIndex + 1) % images.length;
            updateDisplayedImage(currentIndex);
            break;
          default:
            break;
        }
      }

      document.addEventListener('keydown', handleKeyboardEvent);

      for (let i = 0; i < images.length; i++) {
        const newImage = document.createElement('img');
        newImage.setAttribute('src', `assets/assets/${images[i]}`);
        newImage.setAttribute('alt', alts[images[i]]);
        thumbBar.appendChild(newImage);
        newImage.addEventListener('click', () => {
          currentIndex = i;
          updateDisplayedImage(currentIndex);
        });
      }

      btn.addEventListener('click', () => {
        const btnClass = btn.getAttribute('class');
        if (btnClass === 'dark') {
          btn.setAttribute('class','light');
          btn.textContent = 'Lighten';
          overlay.style.backgroundColor = 'rgba(0,0,0,0.5)';
        } else {
          btn.setAttribute('class','dark');
          btn.textContent = 'Darken';
          overlay.style.backgroundColor = 'rgba(0,0,0,0)';
        }
      });
    </script>
  </body>
</html>

